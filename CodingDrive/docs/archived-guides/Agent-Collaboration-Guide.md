# 代理協作流程指南 (Agent Collaboration Guide)

## 代理團隊概述

我們已建立了三個專業代理，組成一個完整的開發團隊：

### 🔍 系統分析師 (System Analyst)
- **職責**：需求收集、系統調研、現狀分析
- **輸出**：需求規格書、使用者故事、技術調研報告
- **工具**：搜索工具、檔案分析工具

### 🏗️ 系統設計師 (System Designer)
- **職責**：架構設計、詳細設計、技術選型
- **輸出**：系統架構圖、類別設計文檔、API規格書
- **依賴**：基於分析師的需求規格進行設計

### 👨‍💻 開發工程師 (Software Developer)
- **職責**：程式碼實作、測試編寫、品質保證
- **輸出**：可運行的程式碼、測試案例、技術文檔
- **依賴**：基於設計師的設計文檔進行實作

## 協作工作流程

### 階段一：需求分析
1. **系統分析師啟動**
   ```
   輸入：使用者需求、現有系統
   流程：調研 → 分析 → 文檔化
   輸出：需求規格書
   ```

2. **分析師交付物**
   - 功能需求列表
   - 非功能需求定義
   - 使用者故事
   - 現狀分析報告

### 階段二：系統設計
1. **設計師接手**
   ```
   輸入：需求規格書
   流程：架構設計 → 詳細設計 → 技術選型
   輸出：設計文檔
   ```

2. **設計師交付物**
   - 系統架構圖
   - 類別設計文檔
   - 資料庫設計（如需要）
   - API規格書

### 階段三：開發實作
1. **開發工程師執行**
   ```
   輸入：設計文檔
   流程：TDD → 編碼 → 測試 → 重構
   輸出：可運行程式碼
   ```

2. **開發工程師交付物**
   - 高品質程式碼
   - 單元測試和集成測試
   - 技術文檔

## 代理協作模式

### 1. 瀑布式協作（Waterfall）
適用於：需求明確、變更較少的專案
```
分析師 → 設計師 → 開發工程師
```

### 2. 迭代式協作（Iterative）
適用於：敏捷開發、快速迭代的專案
```
分析師 ↔ 設計師 ↔ 開發工程師
（持續反饋和調整）
```

### 3. 並行協作（Parallel）
適用於：大型專案、可並行開發的模組
```
分析師 → 設計師A + 設計師B → 開發工程師A + 開發工程師B
```

## 代理間溝通協議

### 1. 標準交付格式
- **Markdown文檔**：統一的文檔格式
- **結構化數據**：明確的章節和標題
- **版本控制**：文檔版本管理

### 2. 品質檢查點
- 分析師 → 設計師：需求評審
- 設計師 → 開發工程師：設計評審
- 開發工程師：代碼自檢和測試

### 3. 反饋機制
- 下游代理可向上游代理提出問題
- 技術可行性問題及時反饋
- 需求變更通過正式流程處理

## 使用方式

### 啟動專案流程
1. **選擇協作模式**：根據專案特性選擇協作模式
2. **啟動分析師**：提供專案背景和初始需求
3. **順序執行**：按照既定流程執行各階段
4. **持續監控**：確保各階段交付品質

### 代理調用語法
```
# 啟動系統分析師
請系統分析師分析以下需求...

# 啟動系統設計師
請系統設計師根據以下需求規格進行設計...

# 啟動開發工程師
請開發工程師根據以下設計文檔進行實作...
```

## 品質保證機制

### 1. 階段門控（Stage Gates）
- 每個階段完成後進行品質檢查
- 不符合標準不允許進入下一階段
- 建立明確的完成標準

### 2. 交叉驗證
- 設計師驗證需求的技術可行性
- 開發工程師驗證設計的實作可行性
- 相互之間提供專業建議

### 3. 持續改進
- 記錄每次協作的問題和改進點
- 定期更新協作流程
- 優化代理間的配合效率

## 常見協作場景

### 新功能開發
```
使用者需求 → 分析師調研 → 設計師設計 → 開發工程師實作
```

### 現有系統重構
```
現有程式碼 → 分析師分析 → 設計師重新設計 → 開發工程師重構
```

### Bug修復和優化
```
問題報告 → 分析師定位 → 設計師方案 → 開發工程師修復
```

這個協作框架確保了團隊能夠有效率地協同工作，產出高品質的軟體系統。